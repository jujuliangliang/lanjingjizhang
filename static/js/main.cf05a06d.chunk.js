(this.webpackJsonpjizhang=this.webpackJsonpjizhang||[]).push([[0],{278:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_29614_Desktop_jizhang_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(788),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(796),_material_ui_icons_Backspace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(392),_material_ui_icons_Backspace__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_material_ui_icons_Backspace__WEBPACK_IMPORTED_MODULE_4__),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(215),antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(273),antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_6__),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(797),useStyles=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.a)((function(e){return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.a)({margin:{width:"94%",height:"94%",background:"#fff",border:"1px solid rgb(63,81,181)",borderRadius:5,boxSizing:"border-box",fontWeight:"bolder",fontSize:24,outline:"none"},confirm:{fontSize:24,width:"94%",height:"94%",background:"rgb(63,81,181)",fontWeight:"bolder",borderRadius:5,color:"#fff",outline:"none"},yes:{width:"94%",height:"200%",zIndex:50,background:"rgb(63,81,181)",border:"1px solid rgb(63,81,181)",borderRadius:5},extendedIcon:{marginRight:e.spacing(1),width:"100%"},money:{background:"#f5f5f5",padding:"6px 12px",fontSize:"24px",lineHeight:"24px",fontFamily:"Consolas,monospace",textAlign:"right"}})})),Calculator=function Calculator(props){var classes=useStyles(),_React$useState=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState("0"),_React$useState2=Object(C_Users_29614_Desktop_jizhang_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState,2),num=_React$useState2[0],setNum=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(""),_React$useState4=Object(C_Users_29614_Desktop_jizhang_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState3,2),newNum=_React$useState4[0],setNewNum=_React$useState4[1],_React$useState5=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(""),_React$useState6=Object(C_Users_29614_Desktop_jizhang_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState5,2),rrc=_React$useState6[0],setRrc=_React$useState6[1],getVal=function(e){setRrc(e.target.value)},handleClick=function handleClick(i){if("0"!=num){if(0==/[+ |-]/g.test(num)&&("+"!=i&&"-"!=i||setNum(num+=i)),"+"!=i&&"-"!=i||newNum.length>=1&&(setNum(eval(num+newNum)+i),setNewNum("")),"="==i)if(1==/([+ | -])$/.test(num+newNum)){var n=num.slice(0,num.length-1);n.length<=0&&(n="0"),setNum(n),setNewNum("")}else setNum(eval(num+newNum)+""),setNewNum("");if("X"==i)if(newNum.length>0){var nn=newNum.slice(0,newNum.length-1);setNewNum(nn)}else{var n=num.slice(0,num.length-1);n.length<=0&&(n="0"),setNum(n)}}/[+|-]/.test(num)?isNaN(Number(i))?"."==i&&0==/[.]/g.test(newNum)&&setNewNum(""==newNum?0+i:newNum+=i):newNum.length<8&&setNewNum("0"==newNum?Number(newNum+i)+"":newNum+=i):isNaN(Number(i))?"."==i&&0==/[.]/g.test(num)&&setNum(num+=i):num.length<8&&(0==Number(num)?setNum(Number(num+i)+""):setNum(num+i))};Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){if(1==/([+ | -])$/.test(num+newNum)){var n=num.slice(0,num.length-1);n.length<=0&&(n="0"),props.resMoney(""+eval(n),rrc)}else props.resMoney(""+eval(num+newNum),rrc)}));var btns=["1","2","3","+","4","5","6","-","7","8","9","=",".","0","X"];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,background:"#fff"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_5__.a,{component:"ul",style:{width:"100%",height:"100%"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7__.a,{id:"standard-basic",label:"\u6dfb\u52a0\u5907\u6ce8",fullWidth:!0,size:"small",onChange:function(e){return getVal(e)}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classes.money,style:{width:"100%",float:"left"}},num,newNum),btns.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",{key:t,style:"="!=e?{width:"25%",height:80,float:"left",display:"flex",justifyContent:"center",alignItems:"center"}:{width:"25%",height:160,float:"right",display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:classes.confirm,style:"="==e?{width:"94%",height:"96%",float:"right"}:{height:"94%"},onClick:function(){return handleClick(e)}},"X"==e?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_icons_Backspace__WEBPACK_IMPORTED_MODULE_4___default.a,{style:{fontSize:24}}):e))}))))};__webpack_exports__.a=Calculator},425:function(e,t,a){e.exports=a(787)},430:function(e,t,a){},431:function(e,t,a){},433:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},783:function(e,t,a){},787:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),i=a.n(r),o=(a(430),a(135)),c=a(136),s=a(145),u=a(143),m=(a(431),a(197)),p=a(146),d=a(18),g=a(40),f=a(4),h=a(788),y=a(796),_=a(824),E=a(789),b=a(790),v=a(826),w=a(827),S=a(828),O=a(829),D=a(830),k=a(831),I=a(171),x=a(791),C=a(832),j=a(856),N=a(833),M=a(204),P=a.n(M),z=a(371),R=a.n(z),W=a(370),T=a.n(W),B=a(369),A=a.n(B),L=a(105),F={list:[],text:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FLAG_S":return Object(p.a)(Object(p.a)({},e),{},{text:n.text});default:return e}},K=Object(L.c)({content:U}),J=a(365),$="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.d,G=[J.a],q=Object(L.e)(K,$(L.a.apply(void 0,G))),H=(a(433),Object(h.a)((function(e){return Object(y.a)({root:{flexGrow:1,position:"fixed",width:"100%",top:0,zIndex:1300},menuButton:{marginRight:e.spacing(2),fontSize:25,height:70,display:"flex",justifyContent:"center",alignItems:"center",padding:0},title:{flexGrow:1,fontSize:"20px"},appBar:{position:"fixed",top:0,height:55,background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},tool:{fontSize:"15px",background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},icon:{fontSize:"25px",margin:0,padding:0},list:{width:250},fullList:{width:"auto"},button:{margin:e.spacing(1),width:"100px",height:"30px",fontSize:"12px"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%",fontSize:12,height:30}})}))),Y=l.a.forwardRef((function(e,t){return l.a.createElement(_.a,Object.assign({direction:"up",ref:t},e))})),X=Object(g.e)((function(e){var t=H(),a="\u9996\u9875";switch(e.location.pathname){case"/":a="\u9996\u9875";break;case"/water":a="\u6d41\u6c34";break;case"/chart":a="\u56fe\u8868";break;case"/set":a="\u8bbe\u7f6e"}var r,i=l.a.useState(!1),o=Object(d.a)(i,2),c=o[0],s=o[1],u=l.a.useState({top:!1,left:!1,bottom:!1,right:!1}),g=Object(d.a)(u,2),h=g[0],y=g[1],_=function(){s(!0)},M=Object(n.useState)("pays"),z=Object(d.a)(M,2),W=z[0],B=z[1],L=l.a.useState("0"),F=Object(d.a)(L,2),U=F[0],K=F[1],J=l.a.useState(""),$=Object(d.a)(J,2),G=$[0],X=$[1],V=function(){s(!1)},Z=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&y(Object(p.a)(Object(p.a)({},h),{},Object(m.a)({},e,t)))}},Q=Object(n.useState)(""),ee=Object(d.a)(Q,2),te=ee[0],ae=ee[1],ne={date:"",time:"",week:""};Object(n.useEffect)((function(){"\u652f\u51fa"==te?B("pays"):"\u6536\u5165"==te&&B("incomes")}),[te]);return q.subscribe(_),l.a.createElement("div",{className:t.root},l.a.createElement(O.a,{position:"static"},l.a.createElement(D.a,{className:t.tool},l.a.createElement(k.a,{edge:"start",className:t.menuButton,color:"inherit",onClick:Z("left",!0),"aria-label":"menu",title:"1111"},l.a.createElement(T.a,{className:t.icon})),l.a.createElement(I.a,{className:t.title},a),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:_,endIcon:l.a.createElement(C.a,null,"send")},"\u8bb0\u4e00\u7b14"))),["left"].map((function(e){return l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(j.a,{anchor:e,open:h[e],onClose:Z(e,!1),onOpen:Z(e,!0)},function(e){return l.a.createElement("div",{className:Object(f.a)(t.list,{}),role:"presentation",onClick:Z(e,!1),onKeyDown:Z(e,!1)},l.a.createElement(E.a,null,["\u6682\u65e0\u7528\u6237"].map((function(e,t){return l.a.createElement(b.a,{button:!0,key:e},l.a.createElement(v.a,null,l.a.createElement(A.a,null)),l.a.createElement(w.a,{primary:e,style:{fontSize:12}}))}))),l.a.createElement(S.a,null),l.a.createElement(E.a,null))}(e)))})),l.a.createElement(N.a,{fullScreen:!0,open:c,onClose:V,TransitionComponent:Y},l.a.createElement(O.a,{className:t.appBar},l.a.createElement(D.a,null,l.a.createElement(k.a,{edge:"start",color:"inherit",onClick:V,"aria-label":"close"},l.a.createElement(P.a,{className:t.icon})),l.a.createElement(I.a,{variant:"h6",className:t.title},l.a.createElement(ve,{resSelect:function(e){ae(e)}})),l.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",className:t.button,onClick:function(){q.dispatch({type:"FLAG_S",payload:{text:""}});var t=[],a=[];void 0==localStorage.getItem(W)||null==localStorage.getItem(W)?"pays"==W?(t.push({dates:ne,label:r,rrc:G,money:U}),localStorage.setItem(W,JSON.stringify(t))):"incomes"==W&&(a.push({dates:ne,label:r,rrc:G,money:U}),localStorage.setItem(W,JSON.stringify(a))):"pays"==W?(t=localStorage.getItem("pays"),(t=JSON.parse(t)).push({dates:ne,label:r,rrc:G,money:U}),localStorage.setItem("pays",JSON.stringify(t))):"incomes"==W&&(a=localStorage.getItem("incomes"),(a=JSON.parse(a)).push({dates:ne,label:r,rrc:G,money:U}),localStorage.setItem("incomes",JSON.stringify(a))),s(!1),e.history.go()},startIcon:l.a.createElement(R.a,null)},"\u4fdd\u5b58"))),l.a.createElement(E.a,null,l.a.createElement("div",null,l.a.createElement(Le,{resData:function(e,t,a){ne.date=e,ne.time=t,ne.week=a}})),""!=te?l.a.createElement("div",null,l.a.createElement(Ge,{payOrInCome:te,resTag:function(e){r=e}})):l.a.createElement("div",null),l.a.createElement("div",{style:{height:420}},l.a.createElement(pt.a,{resMoney:function(e,t){"pays"==W?K("-"+e):"incomes"==W&&K("+"+e),X(t)}})))))})),V=a(834),Z=a(835),Q=(a(438),a(374)),ee=a.n(Q),te=a(372),ae=a.n(te),ne=a(375),le=a.n(ne),re=a(373),ie=a.n(re),oe=Object(h.a)({root:{width:"100%",height:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",background:"#fff"}}),ce=Object(g.e)((function(e){var t=oe(),a="recents";switch(e.location.pathname){case"/":a="recents";break;case"/water":a="favorites";break;case"/chart":a="nearby";break;case"/set":a="folder"}var n=l.a.useState(a),r=Object(d.a)(n,2),i=r[0],o=r[1];return l.a.createElement("div",{className:"footer"},l.a.createElement(V.a,{value:i,onChange:function(t,a){o(a);var n="";switch(!0){case"recents"==a:n="/";break;case"favorites"==a:n="/water";break;case"nearby"==a:n="/chart";break;case"folder"==a:n="/set"}e.history.push({pathname:n})},className:t.root},l.a.createElement(Z.a,{label:"\u9996\u9875",value:"recents",style:{height:"50px"},icon:l.a.createElement(ae.a,{style:{fontSize:"30px"}})}),l.a.createElement(Z.a,{label:"\u6d41\u6c34",value:"favorites",style:{height:"50px"},icon:l.a.createElement(ie.a,{style:{fontSize:"30px"}})}),l.a.createElement(Z.a,{label:"\u56fe\u8868",value:"nearby",style:{height:"50px"},icon:l.a.createElement(ee.a,{style:{fontSize:"30px"}})}),l.a.createElement(Z.a,{label:"\u8bbe\u7f6e",value:"folder",style:{height:"50px"},icon:l.a.createElement(le.a,{style:{fontSize:"30px"}})})))})),se=a(836),ue=a(837),me=a(376),pe=a.n(me),de=a(839),ge=a(794),fe=a(215),he=a(838),ye=a(841),_e=a(840),Ee=(a(439),Object(h.a)((function(e){Object(y.a)({button:{fontSize:12}})}))),be=["\u652f\u51fa","\u6536\u5165"];function ve(e){Ee();var t=l.a.useState(!1),a=Object(d.a)(t,2),n=a[0],r=a[1],i=l.a.useRef(null),o=l.a.useState(0),c=Object(d.a)(o,2),s=c[0],u=c[1],m=function(){r((function(e){return!e}))},p=function(e){i.current&&i.current.contains(e.target)||r(!1)};return l.a.useEffect((function(){e.resSelect(be[s])}),[s]),l.a.createElement(se.a,{container:!0,style:{marginLeft:15,width:100,zIndex:1e3},alignItems:"center"},l.a.createElement(se.a,{item:!0,xs:12},l.a.createElement(ue.a,{variant:"contained",color:"primary",ref:i,"aria-label":"split button"},l.a.createElement(x.a,{style:{fontSize:"13px",width:60,height:30},onClick:m},be[s]),l.a.createElement(x.a,{style:{fontSize:"13px",width:20,height:30,display:"flex",justifyContent:"center",alignItems:"center"},color:"primary","aria-controls":n?"split-button-menu":void 0,"aria-expanded":n?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:m},l.a.createElement(pe.a,{style:{fontSize:25}}))),l.a.createElement(he.a,{open:n,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return l.a.createElement(ge.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),l.a.createElement(fe.a,null,l.a.createElement(de.a,{onClickAway:p},l.a.createElement(_e.a,{id:"split-button-menu"},be.map((function(e,t){return l.a.createElement(ye.a,{key:e,disabled:2===t,selected:t===s,style:{fontSize:"15px"},onClick:function(e){return function(e,t){u(t),r(!1)}(0,t)}},e)}))))))}))))}var we=a(842),Se=a(55),Oe=a(262),De=a(843),ke=(a(273),a(440),a(399)),Ie=a(75),xe=a.n(Ie);a(442);xe.a.locale("zh-cn");var Ce=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],je=new Date,Ne=je.getFullYear(),Me=je.getMonth()+1,Pe=je.getDate(),ze=je.getDay(),Re=je.getHours(),We=je.getMinutes(),Te=je.getSeconds();Me<10&&(Me="0"+Me),Pe<10&&(Pe="0"+Pe),Re<10&&(Re="0"+Re),We<10&&(We="0"+We),Te<10&&(Te="0"+Te);var Be=Ne+"-"+Me+"-"+Pe,Ae=Re+":"+We+":"+Te,Le=function(e){return e.resData(Be,Ae,Ce[ze]),l.a.createElement(we.a,{direction:"vertical",style:{marginTop:55}},l.a.createElement(Se.a,{locale:ke.a},l.a.createElement(Oe.a,{onChange:function(t,a){Be=a,""!=a&&(ze=new Date(a.replace("-",",")).getDay()),e.resData(Be,Ae,Ce[ze])}}),l.a.createElement(De.a,{onChange:function(t,a){Ae=a,e.resData(Be,Ae,Ce[ze])},defaultOpenValue:xe()("00:00:00","HH:mm:ss")})))},Fe=a(859),Ue=a(858),Ke=a(213),Je=a.n(Ke),$e=Object(h.a)((function(e){return Object(y.a)({root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},chip:{margin:e.spacing(.5),fontSize:"12px"}})}));function Ge(e){var t,a=$e(),r=l.a.useState("paytags"),i=Object(d.a)(r,2),o=i[0],c=i[1];Object(n.useEffect)((function(){"\u652f\u51fa"==e.payOrInCome?c("paytags"):"\u6536\u5165"==e.payOrInCome&&c("incometags")}),[e.payOrInCome]),void 0==localStorage.getItem(o)||null==localStorage.getItem(o)||"{}"==localStorage.getItem(o)?("paytags"==o?localStorage.setItem(o,JSON.stringify([{key:0,label:"\u996e\u98df"},{key:1,label:"\u4ea4\u901a"},{key:2,label:"\u5c45\u4f4f"},{key:3,label:"\u5a31\u4e50"},{key:4,label:"\u8d2d\u7269"},{key:5,label:"\u5b66\u4e60"},{key:6,label:"\u8fd0\u52a8"},{key:7,label:"\u901a\u8baf"},{key:8,label:"\u9152\u6c34"},{key:9,label:"\u533b\u7597"},{key:10,label:"\u8fd8\u6b3e"},{key:11,label:"\u65c5\u6e38"}])):"incometags"==o&&localStorage.setItem(o,JSON.stringify([{key:0,label:"\u5de5\u8d44"},{key:1,label:"\u517c\u804c"},{key:2,label:"\u793c\u91d1"},{key:3,label:"\u7406\u8d22"},{key:4,label:"\u62a5\u9500"},{key:5,label:"\u501f\u6b3e"},{key:6,label:"\u5176\u4ed6"}])),t=localStorage.getItem(o)):t=localStorage.getItem(o),t=JSON.parse(t);var s=l.a.useState(t),u=Object(d.a)(s,2),m=(u[0],u[1]),p=l.a.useState(0),g=Object(d.a)(p,2),f=g[0],h=g[1],y=Object(n.useRef)();return e.resTag(t[f]),l.a.createElement("div",{className:a.root},l.a.createElement(fe.a,{component:"ul",className:a.root},t.map((function(e,t){return l.a.createElement("li",{key:e.key},l.a.createElement(Ue.a,{variant:"outlined",size:"small",avatar:l.a.createElement(Fe.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg"}),label:e.label,onClick:function(e){return function(e,t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),h(e)}(t,e)},className:a.chip,clickable:!1,color:f==e.key?"primary":"default"}))})),l.a.createElement("li",null,l.a.createElement(Ue.a,{variant:"default",size:"small",icon:l.a.createElement(Je.a,{color:"primary",style:{width:15,height:15}},"M"),label:"\u7ba1\u7406\u6807\u7b7e",color:"primary",className:a.chip,onClick:function(){y.current.handleClickOpen()},clickable:!0}))),l.a.createElement(rt,{innerRef:y,updataChipData:function(){t=localStorage.getItem(o),m(JSON.parse(t))},tags:t,payOrInCome:o}))}var qe=a(401),He=a(402),Ye=a(8),Xe=a(844),Ve=a(845),Ze=a(846),Qe=a(391),et=a.n(Qe),tt=(a(487),Object(h.a)({span:{width:"30px",height:"30px"}})),at=Object(Ye.a)((function(e){return Object(y.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},title:{height:50,fontSize:12}})}))((function(e){var t=e.children,a=e.classes,n=e.onClose,r=Object(He.a)(e,["children","classes","onClose"]);return l.a.createElement(Xe.a,Object.assign({disableTypography:!0,className:a.root},r),l.a.createElement(I.a,{variant:"h6"},t),n?l.a.createElement(k.a,{"aria-label":"close",className:a.closeButton,onClick:n,style:{width:"30px",height:"30px"}},l.a.createElement(P.a,{style:{width:"30px",height:"30px"}})):null)})),nt=Object(Ye.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Ve.a),lt=Object(Ye.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Ze.a);function rt(e){tt();var t,a=e.tags,r=l.a.useState(a),i=Object(d.a)(r,2),o=i[0],c=i[1],s=l.a.useState(!1),u=Object(d.a)(s,2),m=u[0],p=u[1],g=function(){a=localStorage.getItem(e.payOrInCome),c(JSON.parse(a)),p(!0)},f=function(){p(!1),a=localStorage.getItem(e.payOrInCome),c(JSON.parse(a)),e.updataChipData()},h=e.innerRef;Object(n.useImperativeHandle)(h,(function(){return{handleClickOpen:g}}));var y=Object(n.useRef)();return l.a.createElement("div",null,l.a.createElement(N.a,{onClose:f,"aria-labelledby":"customized-dialog-title",open:m},l.a.createElement(at,{id:"customized-dialog-title",onClose:f},"\u7ba1\u7406\u6807\u7b7e"),l.a.createElement(nt,{dividers:!0},l.a.createElement(I.a,{gutterBottom:!0},l.a.createElement(fe.a,{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",alignItems:"center",padding:"0 5px 0 5px"}},o.map((function(e,t){return l.a.createElement("li",{key:e.key+e.label,style:{float:"left"}},l.a.createElement(Ue.a,{variant:"outlined",size:"small",avatar:l.a.createElement(Fe.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg"}),label:e.label,color:"primary",onDelete:(a=e,function(){c((function(e){return e.filter((function(e){return e.key!==a.key}))}));for(var e=a.key+1;e<o.length;e++)console.log(o[e].key-=1),console.log(o[e])}),style:{fontSize:12},disabled:!(e.key>=6)}));var a})),l.a.createElement("li",null,l.a.createElement(Ue.a,{variant:"default",size:"small",icon:l.a.createElement(et.a,{color:"primary",style:{width:15,height:15}},"M"),label:"\u65b0\u589e\u6807\u7b7e",color:"primary",clickable:!0,onClick:function(){y.current.handleClickOpen()},style:{fontSize:12}}))))),l.a.createElement(lt,null,l.a.createElement(x.a,{onClick:f,color:"primary",style:{width:30,height:30,fontSize:20}},"\u53d6\u6d88"),l.a.createElement(x.a,{autoFocus:!0,onClick:function(){p(!1),void 0==t?(localStorage.setItem(e.payOrInCome,JSON.stringify(o)),c(o)):(localStorage.setItem(e.payOrInCome,JSON.stringify(t)),c(t)),e.updataChipData()},color:"primary",style:{width:30,height:30,fontSize:20}},"\u786e\u8ba4")),l.a.createElement(mt,{cref:y,select:function(e){t=e,c(Object(qe.a)(t))},chipData:o,payOrInCome:e.payOrInCome})))}var it=a(797),ot=a(861),ct=a(855);function st(e){return l.a.createElement(ct.a,Object.assign({elevation:6,variant:"filled"},e))}var ut=Object(h.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function mt(e){ut();var t=l.a.useState(!1),a=Object(d.a)(t,2),r=a[0],i=a[1],o=l.a.useState(!1),c=Object(d.a)(o,2),s=c[0],u=c[1],m=function(){i(!0)},p=function(){i(!1)},g=function(e,t){"clickaway"!==t&&u(!1)},f="",h=localStorage.getItem(e.payOrInCome),y=e.chipData;h=JSON.parse(h);var _=e.cref;return Object(n.useImperativeHandle)(_,(function(){return{handleClickOpen:m}})),l.a.createElement("div",null,l.a.createElement(N.a,{open:r,onClose:p,"aria-labelledby":"form-dialog-title"},l.a.createElement(Xe.a,{id:"form-dialog-title"},"\u65b0\u589e\u6807\u7b7e"),l.a.createElement(Ve.a,null,l.a.createElement(it.a,{autoFocus:!0,margin:"dense",id:"name",label:"\u6807\u7b7e\u540d\u79f0",type:"text",size:"small",fullWidth:!0,style:{fontSize:15,fontWeight:200},onChange:function(e){return function(e){f=e.target.value.slice(0,8)}(e)}})),l.a.createElement(Ze.a,null,l.a.createElement(x.a,{onClick:p,color:"primary",style:{width:30,height:30,fontSize:20}},"\u53d6\u6d88"),l.a.createElement(x.a,{onClick:function(){for(var t=[],a=[],n=0;n<h.length;n++)t.push(h[n].label);for(var l=0;l<y.length;l++)a.push(y[l].label);void 0!=f&&""!=f&&0!=Number(f)&&1!=/^[ ]$/.test(f)&&(-1==t.indexOf(f)?(h.push({key:h[h.length-1].key+1,label:f}),y.push({key:y[y.length-1].key+1,label:f}),localStorage.setItem("tags",JSON.stringify(h)),e.select(y),i(!1)):u(!0))},color:"primary",style:{width:30,height:30,fontSize:20}},"\u786e\u8ba4")),l.a.createElement(ot.a,{open:s,autoHideDuration:3e3,onClose:g},l.a.createElement(st,{onClose:g,severity:"warning",style:{width:"100%",height:60,fontSize:20}},"\u4f60\u5df2\u7ecf\u6709\u8fd9\u4e2a\u6807\u7b7e\u4e86"))))}var pt=a(278),dt=a(860),gt=a(847),ft=a(849),ht=a(854),yt=Object(h.a)((function(e){return Object(y.a)({container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120}})}));function _t(e){for(var t=yt(),a=new Date,n=l.a.useState(!1),r=Object(d.a)(n,2),i=r[0],o=r[1],c=l.a.useState(a.getFullYear()),s=Object(d.a)(c,2),u=s[0],m=s[1],p=l.a.useState(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1),g=Object(d.a)(p,2),f=g[0],h=g[1],y=function(){o(!1)},_=[],E=1970;E<=2100;E++)_.push(E);for(var b=[],v=1;v<=12;v++)b.push(v);return l.a.createElement("div",null,l.a.createElement(x.a,{onClick:function(){o(!0)},style:{color:e.flag?"#fff":"#000"}},u,"\u5e74 ",f,"\u6708"),l.a.createElement(N.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:i,onClose:y},l.a.createElement(Xe.a,null,"\u9009\u62e9\u6708\u4efd"),l.a.createElement(Ve.a,null,l.a.createElement("form",{className:t.container},l.a.createElement(ft.a,{className:t.formControl,style:{width:"100%"}},l.a.createElement(dt.a,{htmlFor:"demo-dialog-native"},"\u5e74"),l.a.createElement(ht.a,{value:u,onChange:function(e){m(Number(e.target.value)||"")},input:l.a.createElement(gt.a,{id:"demo-dialog-native"}),autoWidth:!0},_.map((function(e,t){return l.a.createElement(ye.a,{key:t,value:e},e)})))),l.a.createElement(ft.a,{className:t.formControl,style:{width:"100%"}},l.a.createElement(dt.a,{id:"demo-dialog-select-label"},"\u6708"),l.a.createElement(ht.a,{labelId:"demo-dialog-select-label",id:"demo-dialog-select",value:f,onChange:function(e){h(e.target.value||"")},input:l.a.createElement(gt.a,null)},b.map((function(e,t){return l.a.createElement(ye.a,{key:t,value:e<10?"0"+e:e},e<10?"0"+e:e)})))))),l.a.createElement(Ze.a,null,l.a.createElement(x.a,{onClick:y,color:"primary"},"\u53d6\u6d88"),l.a.createElement(x.a,{onClick:function(){o(!1),e.resDate(u,f)},color:"primary"},"\u786e\u8ba4"))))}var Et=a(851),bt=Object(h.a)((function(e){return Object(y.a)({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},listItemText:{fontSize:"18px"},text:{fontSize:15},paper:{margin:e.spacing(.5)}})}));function vt(e){var t=bt();var a=function(e,t,a){var n=function(e){var t=new Map;return e.filter((function(e){return!t.has(e)&&t.set(e,1)}))}(e.map((function(e){return e[t][a]}))),l=[];return n.forEach((function(n){var r={list:[]};r.list=e.filter((function(e){return n==e[t][a]})),r.name=n,l.push(r)})),l}(e.monthSum,"dates","date");return a.reverse(),a.forEach((function(e,t){return e.list.reverse()})),l.a.createElement("div",{className:t.root},l.a.createElement(E.a,null,a.length>0?a.map((function(e,a){return l.a.createElement("div",{key:e.list[0].dates.date+a},l.a.createElement(fe.a,{className:t.paper},l.a.createElement("div",{style:{width:"100%",height:30,display:"flex",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("h5",{style:{marginLeft:20}},e.name," ",e.list[0].dates.week),l.a.createElement("h5",{style:{marginRight:20}},"\u652f\u51fa:",function(){var t=0;return e.list.map((function(e,a){/^[-]/.test(e.money)&&(t+=parseFloat(e.money.replace("-","")))})),l.a.createElement("span",null,t)}(),"\xa0\xa0\xa0\u6536\u5165:",function(){var t=0;return e.list.map((function(e,a){/^[+]/.test(e.money)&&(t+=parseFloat(e.money.replace("-","")))})),l.a.createElement("span",null,t)}()))),e.list.map((function(a,n){return l.a.createElement("div",{key:a.dates.time+n},l.a.createElement(b.a,{button:!0},l.a.createElement(Et.a,null,l.a.createElement(Fe.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg",style:{width:35,height:35,fontSize:35,background:"rgb(48,63,159)"},variant:"circle"})),l.a.createElement(w.a,{classes:{primary:t.listItemText,secondary:t.listItemText},primary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,a.label.label),l.a.createElement("span",null,a.money)),secondary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,a.dates.time),l.a.createElement("span",{style:{width:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"right"}},a.rrc)),style:{fontSize:12,color:"#000"}})),e.list[n]!=e.list[e.list.length-1]?l.a.createElement(S.a,{variant:"inset",component:"li"}):"")})))})):l.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Fe.a,{src:"./icons/noData.svg",style:{width:100,height:100,margin:"0 auto"}}),l.a.createElement("p",null,"\u6682\u65f6\u8fd8\u6ca1\u6709\u8bb0\u5f55. \u5feb\u53bb\u8bb0\u4e00\u7b14\u5427~")))))}function wt(e){var t=l.a.useState(!1),a=Object(d.a)(t,2),n=a[0],r=a[1],i=l.a.useRef(null),o=function(){r(!0)},c=l.a.useState(""),s=Object(d.a)(c,2),u=s[0],m=s[1],p=function(){r(!1)},g=e.fref;return l.a.useImperativeHandle(g,(function(){return{handleClickOpen:o}})),l.a.createElement("div",null,l.a.createElement(N.a,{open:n,onClose:p,"aria-labelledby":"form-dialog-title"},l.a.createElement(Xe.a,{id:"form-dialog-title"},"\u6dfb\u52a0\u9884\u7b97"),l.a.createElement(Ve.a,null,l.a.createElement(it.a,{margin:"dense",id:"name",label:"\u9884\u7b97\u91d1\u989d",type:"number",fullWidth:!0,ref:i,onChange:function(e){return function(e){m(e.target.value)}(e)}})),l.a.createElement(Ze.a,null,l.a.createElement(x.a,{onClick:p,color:"primary",style:{width:30,height:30,fontSize:20}},"\u53d6\u6d88"),l.a.createElement(x.a,{onClick:function(){""!=u&&("\u4eca\u5e74"==e.budgetDate?localStorage.setItem("yearBudGet",u):"\u672c\u6708"==e.budgetDate?localStorage.setItem("monthBudGet",u):"\u672c\u5468"==e.budgetDate?localStorage.setItem("weekBudGet",u):"\u4eca\u65e5"==e.budgetDate&&localStorage.setItem("dayBudGet",u)),e.resSumMoney(u),r(!1)},color:"primary",style:{width:30,height:30,fontSize:20}},"\u786e\u8ba4"))))}var St=a(850),Ot=a(393),Dt=a.n(Ot),kt=Object(h.a)((function(e){return Object(y.a)({typography:{padding:e.spacing(2)},button:{fontSize:14,textAlign:"right"}})})),It=["\u4eca\u5e74","\u672c\u6708","\u672c\u5468","\u4eca\u65e5"];function xt(e){var t=kt(),a=l.a.useState(null),n=Object(d.a)(a,2),r=n[0],i=n[1],o=0;void 0==localStorage.getItem("budgetDate")?localStorage.setItem("budgetDate","\u4eca\u65e5"):"\u4eca\u5e74"==localStorage.getItem("budgetDate")?o=0:"\u672c\u6708"==localStorage.getItem("budgetDate")?o=1:"\u672c\u5468"==localStorage.getItem("budgetDate")?o=2:"\u4eca\u65e5"==localStorage.getItem("budgetDate")&&(o=3);var c=l.a.useState(o),s=Object(d.a)(c,2),u=s[0],m=s[1],p=function(){i(null)},g=Boolean(r),f=g?"simple-popover":void 0;return l.a.useEffect((function(){localStorage.setItem("budgetDate",It[u]),e.resDate(It[u])}),[It[u]]),l.a.createElement("div",null,l.a.createElement(x.a,{variant:"text",className:t.button,onClick:function(e){i(e.currentTarget)}},It[u],"\u9884\u7b97",l.a.createElement(Dt.a,{style:{fontSize:17}})),l.a.createElement(St.a,{id:f,open:g,anchorEl:r,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(fe.a,null,l.a.createElement(de.a,{onClickAway:p},l.a.createElement(_e.a,{id:"split-button-menu"},It.map((function(e,t){return l.a.createElement(ye.a,{key:e,disabled:t===u,selected:t===u,style:{fontSize:"15px"},onClick:function(e){return function(e,t){m(t),i(null)}(0,t)}},e)})))))))}function Ct(e){var t=l.a.useState(!1),a=Object(d.a)(t,2),n=a[0],r=a[1],i=l.a.useRef(null),o=function(){r(!0)},c=l.a.useState(""),s=Object(d.a)(c,2),u=s[0],m=s[1],p=function(){r(!1)},g=e.fref;return l.a.useImperativeHandle(g,(function(){return{handleClickOpen:o}})),l.a.createElement("div",null,l.a.createElement(N.a,{open:n,onClose:p,"aria-labelledby":"form-dialog-title"},l.a.createElement(Xe.a,{id:"form-dialog-title"},"\u8bbe\u7f6e\u8d44\u4ea7"),l.a.createElement(Ve.a,null,l.a.createElement(it.a,{margin:"dense",id:"name",label:"\u8d44\u4ea7\u91d1\u989d",type:"number",fullWidth:!0,ref:i,onChange:function(e){return function(e){m(e.target.value)}(e)}})),l.a.createElement(Ze.a,null,l.a.createElement(x.a,{onClick:p,color:"primary",style:{width:30,height:30,fontSize:20}},"\u53d6\u6d88"),l.a.createElement(x.a,{onClick:function(){localStorage.setItem("property",u),e.resProperty(u),r(!1)},color:"primary",style:{width:30,height:30,fontSize:20}},"\u786e\u8ba4"))))}var jt=a(793),Nt=a(852),Mt=Object(h.a)((function(e){return Object(y.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));function Pt(e){var t=Mt(),a=l.a.useState(!1),n=Object(d.a)(a,2),r=n[0],i=n[1],o=function(){i(!1)},c=function(){i(!r)},s=e.ref;return l.a.useImperativeHandle(s,(function(){return{handleClose:o,handleToggle:c}})),l.a.createElement("div",null,l.a.createElement(jt.a,{className:t.backdrop,open:r},l.a.createElement(Nt.a,{color:"inherit"})))}var zt=a(134),Rt=a(137),Wt=a(394),Tt=a.n(Wt),Bt=a(395),At=a.n(Bt),Lt=a(261),Ft=a.n(Lt),Ut=(a(488),l.a.createRef()),Kt=0;void 0!==localStorage.getItem("property")&&null!==localStorage.getItem("property")&&(Kt=localStorage.getItem("property"));var Jt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={sum:parseFloat(Kt),allPay:0,allIncome:0,day:(new Date).getDate()<10?"0"+(new Date).getDate():(new Date).getDate(),month:(new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1,week:(new Date).getDay(),year:(new Date).getFullYear(),dayPays:0,monthPays:0,weekPays:0,yearPays:0,dayIncome:0,monthIncome:0,weekIncome:0,yearIncome:0,firstWeek:"",lastWeek:""},n.getProperty=n.getProperty.bind(Object(Rt.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){for(var e,t,a=this,n=0,l=0,r=0,i=0,o=0,c=0,s=0,u=0,m=0,p=0,d=[],g=(new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1,f=0==this.state.week?6:this.state.week-1;f>=0;f--){var h=new Date(this.state.year,(new Date).getDate()-f<=0?parseInt(g)-1:parseInt(g),(new Date).getDate()-f).getFullYear(),y=new Date(this.state.year,(new Date).getDate()-f<=0?parseInt(g)-1:parseInt(g),(new Date).getDate()-f).getMonth();(new Date).getDate()-f<=0&&(y+=1),y<10&&(y="0"+y),(E=new Date(this.state.year,(new Date).getDate()-f<=0?parseInt(g)-1:parseInt(g),(new Date).getDate()-f).getDate())<10&&(E="0"+E),d.push(h+"-"+y+"-"+E)}for(var _=1;_<=(0==this.state.week?0:7-this.state.week);_++){console.log(new Date(this.state.year,parseInt(g),(new Date).getDate()+_).getDate());var E;h=new Date(this.state.year,parseInt(g),(new Date).getDate()+_).getFullYear();(y=new Date(this.state.year,parseInt(g),(new Date).getDate()+_).getMonth())<10&&(y="0"+y),(E=new Date(this.state.year,parseInt(g),(new Date).getDate()+_).getDate())<10&&(E="0"+E),d.push(h+"-"+y+"-"+E)}var b=d[0],v=d[d.length-1];b=(b=b.replace(this.state.year+"-","")).replace("-","\u6708")+"\u65e5",v=(v=v.replace(this.state.year+"-","")).replace("-","\u6708")+"\u65e5",this.setState({firstWeek:b,lastWeek:v}),void 0!==localStorage.getItem("pays")&&null!==localStorage.getItem("pays")&&(e=localStorage.getItem("pays"),(e=JSON.parse(e)).forEach((function(e,t){n+=parseFloat(e.money.replace("-","")),a.state.year+"-"+a.state.month+"-"+a.state.day==e.dates.date&&(r+=parseFloat(e.money.replace("-","")),a.setState({dayPays:r})),-1!=e.dates.date.indexOf(a.state.year+"-"+a.state.month)&&(i+=parseFloat(e.money.replace("-","")),a.setState({monthPays:i})),-1!=e.dates.date.indexOf(a.state.year+"-")&&(o+=parseFloat(e.money.replace("-","")),a.setState({yearPays:o}));for(var l=0;l<d.length;l++)e.dates.date==d[l]&&(m+=parseFloat(e.money.replace("-","")),a.setState({weekPays:m}))})),this.setState({allPay:n})),void 0!==localStorage.getItem("incomes")&&null!==localStorage.getItem("incomes")&&(t=localStorage.getItem("incomes"),(t=JSON.parse(t)).forEach((function(e,t){l+=parseFloat(e.money.replace("+","")),a.state.year+"-"+a.state.month+"-"+a.state.day==e.dates.date&&(c+=parseFloat(e.money.replace("+","")),a.setState({dayIncome:c})),-1!=e.dates.date.indexOf(a.state.year+"-"+a.state.month)&&(s+=parseFloat(e.money.replace("+","")),a.setState({monthIncome:s})),-1!=e.dates.date.indexOf(a.state.year+"-")&&(u+=parseFloat(e.money.replace("+","")),a.setState({yearIncome:u}));for(var n=0;n<d.length;n++)e.dates.date==d[n]&&(p+=parseFloat(e.money.replace("+","")),a.setState({weekPays:p}))})),this.setState({allIncome:l}))}},{key:"budget",value:function(){console.log(Ut.current.handleClickOpen())}},{key:"getProperty",value:function(e){this.setState({sum:e})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",height:"5rem",background:"url(./images/jingyu.jpg)",backgroundSize:"100% 100%",float:"left"}},l.a.createElement("div",null,l.a.createElement("h3",{style:{fontSize:28,fontWeight:900,color:"white",marginLeft:10,marginTop:10,display:"flex",alignItems:"center"}},"\u8d44\u4ea7: ",this.state.sum-this.state.allPay+this.state.allIncome,l.a.createElement(k.a,{onClick:this.budget,component:"span",style:{width:10,height:20},color:"primary"},l.a.createElement(Je.a,{style:{width:20,height:20}})))),l.a.createElement("div",null,l.a.createElement("h3",{style:{fontSize:"15px",fontWeight:500,color:"rgb(250,254,255)",marginLeft:10,marginTop:15,letterSpacing:" 0.02857em"}},"\u652f\u51fa: ",this.state.allPay)),l.a.createElement("div",null,l.a.createElement("h3",{style:{fontSize:"15px",fontWeight:500,color:"rgb(250,254,255)",marginLeft:10,letterSpacing:" 0.02857em"}},"\u6536\u5165: ",this.state.allIncome))),l.a.createElement(Ct,{fref:Ut,resProperty:this.getProperty}),l.a.createElement(E.a,{style:{fontSize:12}},l.a.createElement(b.a,null,l.a.createElement(Et.a,null,l.a.createElement(Fe.a,null,l.a.createElement(Tt.a,null))),l.a.createElement(w.a,{primary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,"\u4eca\u65e5"),l.a.createElement("span",null,"-"+this.state.dayPays)),secondary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,0==this.state.dayPays&&0==this.state.dayIncome?"\u8fd8\u6ca1\u6709\u8bb0\u8fc7\u5e10":this.state.month+"\u6708"+this.state.day+"\u65e5"),l.a.createElement("span",{style:{width:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"right"}},"+"+this.state.dayIncome))})),l.a.createElement(b.a,null,l.a.createElement(Et.a,null,l.a.createElement(Fe.a,null,l.a.createElement(At.a,null))),l.a.createElement(w.a,{primary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,"\u672c\u5468"),l.a.createElement("span",null,"-"+this.state.weekPays)),secondary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,0==this.state.weekPays&&0==this.state.weekIncome?"\u8fd8\u6ca1\u6709\u8bb0\u8fc7\u5e10":this.state.firstWeek+"-"+this.state.lastWeek),l.a.createElement("span",{style:{width:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"right"}},"+"+this.state.weekIncome))})),l.a.createElement(b.a,null,l.a.createElement(Et.a,null,l.a.createElement(Fe.a,null,l.a.createElement(Ft.a,null))),l.a.createElement(w.a,{primary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,"\u672c\u6708"),l.a.createElement("span",null,"-"+this.state.monthPays)),secondary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,0==this.state.monthPays&&0==this.state.monthIncome?"\u8fd8\u6ca1\u6709\u8bb0\u8fc7\u5e10":((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"\u670801\u65e5-"+((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"\u6708"+new Date(this.state.year,(new Date).getMonth()+1,0).getDate()+"\u65e5"),l.a.createElement("span",{style:{width:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"right"}},"+"+this.state.monthIncome))})),l.a.createElement(b.a,null,l.a.createElement(Et.a,null,l.a.createElement(Fe.a,null,l.a.createElement(Ft.a,null))),l.a.createElement(w.a,{primary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,"\u4eca\u5e74"),l.a.createElement("span",null,"-"+this.state.yearPays)),secondary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:18}},l.a.createElement("span",null,0==this.state.yearPays&&0==this.state.yearIncome?"\u8fd8\u6ca1\u6709\u8bb0\u8fc7\u5e10":this.state.year+"\u5e74"),l.a.createElement("span",{style:{width:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"right"}},"+"+this.state.yearIncome))}))))}}]),a}(n.Component),$t=a(396),Gt=a.n($t),qt=Object(h.a)((function(e){return Object(y.a)({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},listItemText:{fontSize:"18px"},text:{fontSize:15},sel:{marginLeft:e.spacing(3.2),zIndex:1e3,float:"right",display:"flex",justifyContent:"center"},paper:{margin:e.spacing(.5),height:30,display:"flex",alignItems:"center"}})})),Ht=function(e){var t=qt(),a=void 0!=localStorage.getItem("pays")?localStorage.getItem("pays"):"[]",n=void 0!=localStorage.getItem("incomes")?localStorage.getItem("incomes"):"[]";a=JSON.parse(a),n=JSON.parse(n);var r=l.a.useState((new Date).getFullYear()),i=Object(d.a)(r,2),o=i[0],c=i[1],s=l.a.useState((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1),u=Object(d.a)(s,2),m=u[0],p=u[1],g=l.a.useState(/^[-]/),f=Object(d.a)(g,2),h=f[0],y=f[1],_=[],v=l.a.useState("\u6d88\u8d39"),O=Object(d.a)(v,2),D=O[0],k=O[1];a.forEach((function(e,t){-1!=e.dates.date.indexOf(o+"-"+m)&&_.push(e)})),n.forEach((function(e,t){-1!=e.dates.date.indexOf(o+"-"+m)&&_.push(e)}));var I=function(e,t,a){var n=function(e){var t=new Map;return e.filter((function(e){return!t.has(e)&&t.set(e,1)}))}(e.map((function(e){return e[t][a]}))),l=[];return n.forEach((function(n){var r={},i=[];i=e.filter((function(e){return n==e[t][a]}));var o=0;i.forEach((function(e){h.test(e.money)&&(o+=parseFloat(e.money.replace("-","")))})),r.value=o,r.name=n,0!=o&&l.push(r)})),l}(_,"label","label");(I=I.sort((function(e,t){return t.value-e.value}))).length<=0&&(I=[{value:1}]);var x={tooltip:{trigger:"item",formatter:function(e,t,a){var n="";return n="\u6d88\u8d39"==D?"-\uffe5"+e.value:"+\uffe5"+e.value,void 0!=I[0].name?'<div id="toolTipBox" style="text-align:center;"><p style="font-size:20px;margin:0px;color:'+e.color+';">'+e.name+'</p><p style="font-size:12px;margin:0px;color:'+e.color+';">'+n+" "+e.percent+"%</p></div>":'<div id="toolTipBox" style="text-align:center;"><p style="font-size:12px;margin:0px;color:'+e.color+';">\u60a8\u672c\u6708\u8fd8\u672a\u8bb0\u5f55'+D+"</p></div>"},position:function(e,t,a,n,l){var r=Math.ceil(l.contentSize[0]/2),i=Math.ceil(l.contentSize[1]/2);return a.style.marginLeft="-"+r+"px",a.style.marginTop="-"+i+"px",["50%","50%"]},backgroundColor:"rgb(245,245,245)"},series:[{type:"pie",radius:["50%","90%"],stillShowZeroSum:!0,cursor:"pointer",minAngle:10,label:{position:"inside",rotate:!0,fontStyle:"normal",backgroundColor:"transparent"},data:I}]},C=l.a.useRef(null);l.a.useEffect((function(){Gt.a.init(C.current,"light").setOption(x)})),I.sort((function(e,t){return t.value-e.value}));for(var j=0,N=0;N<I.length;N++)j+=I[N].value;return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",null,l.a.createElement(_t,{resDate:function(e,t){c(e),p(t)},flag:!1}))," ",l.a.createElement("div",{className:t.sel},l.a.createElement(ve,{resSelect:function(e){"\u652f\u51fa"==e?(y(/^[-]/),k("\u6d88\u8d39")):(y(/^[+]/),k("\u6536\u76ca"))}}))),l.a.createElement("div",{style:{width:"100%",height:400,zIndex:100},ref:C}),l.a.createElement(E.a,null,l.a.createElement(fe.a,{className:t.paper},l.a.createElement("h5",{style:{marginLeft:20}},void 0==I[0].name?"\u60a8\u672c\u6708\u8fd8\u672a\u8bb0\u5f55"+D:o+"\u5e74 "+m+"\u6708"+D+"\u6392\u884c\u699c")),void 0!=I[0].name?I.map((function(e,a){return l.a.createElement("div",{key:e+a},l.a.createElement(b.a,null,l.a.createElement(Et.a,null,l.a.createElement(Fe.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg",style:{width:35,height:35,fontSize:35,background:"rgb(48,63,159)"},variant:"circle"})),l.a.createElement(w.a,{classes:{primary:t.listItemText,secondary:t.listItemText},primary:l.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,e.name+" "+(e.value/j*100).toFixed(2)+"%"),l.a.createElement("span",null,"\u6d88\u8d39"==D?"-"+e.value:"+"+e.value)),secondary:l.a.createElement("div",{style:{width:"100%",height:15}},l.a.createElement("div",{style:{width:(e.value/j*100).toFixed(2)+"%",height:"100%",borderRadius:"7.5px",background:"rgb(48,63,159)"}})),style:{fontSize:12,color:"#000"}})),l.a.createElement(S.a,{variant:"fullWidth",component:"li"}))})):l.a.createElement("div",null)))},Yt=a(214),Xt=l.a.createRef(),Vt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).getDate=n.getDate.bind(Object(Rt.a)(n));var l=void 0!=localStorage.getItem("pays")?localStorage.getItem("pays"):"[]",r=void 0!=localStorage.getItem("incomes")?localStorage.getItem("incomes"):"[]";return l=JSON.parse(l),r=JSON.parse(r),n.state={year:(new Date).getFullYear(),month:(new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1,pays:l,incomes:r,monthSum:[]},n}return Object(c.a)(a,[{key:"flagState",value:function(){this.props.dispatch((function(e){e({type:"FLAG_S",payload:{text:"\u6211\u662f\u4f20\u8fc7\u6765\u7684\u6570\u636e"}})}))}},{key:"componentWillMount",value:function(){var e=this,t=[];this.state.pays.forEach((function(a,n){-1!=a.dates.date.indexOf(e.state.year+"-"+e.state.month)&&t.push(a)})),this.state.incomes.forEach((function(a,n){-1!=a.dates.date.indexOf(e.state.year+"-"+e.state.month)&&t.push(a)})),this.setState({monthSum:[].concat(t)})}},{key:"getDate",value:function(e,t){var a=this;this.setState({year:e,month:t},(function(){var e=[];a.state.pays.forEach((function(t,n){-1!=t.dates.date.indexOf(a.state.year+"-"+a.state.month)&&e.push(t)})),a.state.incomes.forEach((function(t,n){-1!=t.dates.date.indexOf(a.state.year+"-"+a.state.month)&&e.push(t)})),a.setState({monthSum:[].concat(e)})}))}},{key:"render",value:function(){var e=0,t=0;return this.state.monthSum.forEach((function(a,n){/^[-]/.test(a.money)?e+=parseFloat(a.money.replace("-","")):/^[+]/.test(a.money)&&(t+=parseFloat(a.money.replace("+","")))})),l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",height:"5rem",background:"url(./images/jingyu.jpg)",backgroundSize:"100% 100%"}},l.a.createElement(_t,{resDate:this.getDate,flag:!0}),l.a.createElement("div",null,l.a.createElement("h3",{style:{fontSize:"15px",fontWeight:500,color:"rgb(250,254,255)",marginLeft:10,letterSpacing:" 0.02857em"}},"\u652f\u51fa:   ",e)),l.a.createElement("div",null,l.a.createElement("h3",{style:{fontSize:"15px",fontWeight:500,color:"rgb(250,254,255)",marginLeft:10,letterSpacing:" 0.02857em"}},"\u6536\u5165:  ",t))),l.a.createElement(vt,{monthSum:this.state.monthSum}),l.a.createElement(Pt,{ref:Xt}))}}]),a}(n.Component),Zt=Object(Yt.b)((function(e,t){return{list:e.content.list}}))(Vt),Qt=a(853),ea=(a(783),Object(h.a)((function(e){return Object(y.a)({button:{fontSize:14,textAlign:"right"},root:{margin:e.spacing(.5)}})})));function ta(){var e=ea(),t=l.a.useRef(),a="\u4eca\u65e5";void 0!==localStorage.getItem("budgetDate")&&null!==localStorage.getItem("budgetDate")&&(a=localStorage.getItem("budgetDate"));for(var n=l.a.useState(a),r=Object(d.a)(n,2),i=r[0],o=r[1],c=new Date,s=c.getFullYear(),u=c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1,m=0==c.getDay()?7:c.getDay(),p=c.getDate()<10?"0"+c.getDate():c.getDate(),g="",f=[],h=[],y=m-1;y>=0;y--){var _=new Date(s,c.getDate()-y<=0?parseInt(u)-1:parseInt(u),c.getDate()-y).getFullYear(),E=new Date(s,c.getDate()-y<=0?parseInt(u)-1:parseInt(u),c.getDate()-y).getMonth();c.getDate()-y<=0&&(E+=1),E<10&&(E="0"+E),(v=new Date(s,c.getDate()-y<=0?parseInt(u)-1:parseInt(u),c.getDate()-y).getDate())<10&&(v="0"+v),h.push(_+"-"+E+"-"+v)}for(var b=1;b<=7-m;b++){console.log(new Date(s,parseInt(u),c.getDate()+b).getDate());var v;_=new Date(s,parseInt(u),c.getDate()+b).getFullYear();(E=new Date(s,parseInt(u),c.getDate()+b).getMonth())<10&&(E="0"+E),(v=new Date(s,parseInt(u),c.getDate()+b).getDate())<10&&(v="0"+v),h.push(_+"-"+E+"-"+v)}var w="dayBudGet";void 0!==localStorage.getItem("pays")&&null!==localStorage.getItem("pays")&&(g=localStorage.getItem("pays"),(g=JSON.parse(g)).forEach((function(e,t){if("\u4eca\u5e74"==i)w="yearBudGet",-1!=e.dates.date.indexOf(""+s)&&f.push(e);else if("\u672c\u6708"==i)w="monthBudGet",-1!=e.dates.date.indexOf(s+"-"+u)&&f.push(e);else if("\u672c\u5468"==i){w="weekBudGet";for(var a=0;a<h.length;a++)e.dates.date==h[a]&&f.push(e)}else"\u4eca\u65e5"==i&&(w="dayBudGet",e.dates.date==s+"-"+u+"-"+p&&f.push(e))})));var O=0;f.forEach((function(e,t){O+=parseFloat(e.money.replace("-",""))}));var D=0;void 0!=localStorage.getItem(w)&&(D=localStorage.getItem(w),D=Number(D));var k=l.a.useState(D),I=Object(d.a)(k,2),C=I[0],j=I[1];l.a.useEffect((function(){j(D)}),[D]);return l.a.createElement("div",{className:"set"},l.a.createElement(fe.a,{className:e.root},l.a.createElement("div",{className:"title"},l.a.createElement("div",{className:"titleLeft"}," ",l.a.createElement(xt,{resDate:function(e){o(e)}}))," ",l.a.createElement("div",{className:"titleRight"},l.a.createElement(x.a,{variant:"text",className:e.button,onClick:function(){t.current.handleClickOpen()}},"\u7f16\u8f91\u9884\u7b97"))),l.a.createElement("div",{className:"budget"},l.a.createElement("div",{className:"left"},l.a.createElement(Qt.a,{type:"circle",percent:Number((100*(1-O/C)).toFixed(1)),format:function(e){return"\u4f59".concat(e+"%")},strokeWidth:10})),l.a.createElement("div",{className:"right"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("h4",null,"\u5269\u4f59:")," ",l.a.createElement("h4",null,C-O)),l.a.createElement(S.a,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("h5",null,"\u9884\u7b97:")," ",l.a.createElement("h5",null,0==C?"\u672a\u8bbe\u7f6e"+i+"\u9884\u7b97":C)),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("h5",null,"\u652f\u51fa:")," ",l.a.createElement("h5",null,O))))),l.a.createElement(wt,{fref:t,budgetDate:i,resSumMoney:function(e){j(Number(e))}}))}var aa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{style:{height:55}},l.a.createElement(X,null)),l.a.createElement(zt.a,null,l.a.createElement(g.a,{path:"/",exact:!0,component:Jt}),l.a.createElement(g.a,{path:"/chart",exact:!0,component:Ht}),l.a.createElement(g.a,{path:"/water",exact:!0,component:Zt}),l.a.createElement(g.a,{path:"/set",exact:!0,component:ta})),l.a.createElement("div",{style:{height:70,zIndex:1e3}},l.a.createElement(ce,null)))}}]),a}(n.Component),na=Object(g.e)(aa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(786);i.a.render(l.a.createElement(zt.a,null,l.a.createElement(Yt.a,{store:q},l.a.createElement(na,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[425,1,2]]]);
//# sourceMappingURL=main.cf05a06d.chunk.js.map